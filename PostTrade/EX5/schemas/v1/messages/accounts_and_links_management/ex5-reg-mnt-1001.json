{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "urn:a5x:ex5:schema:v1:accounts_and_links_management:ex5-reg-mnt-1001",
  "$metadata": {
    "domain": "accounts_and_links_management",
    "schemaId": "urn:a5x:ex5:schema:v1:accounts_and_links_management:ex5-reg-mnt-1001"
  },
  "title": "Account Registration and Maintenance Message",
  "description": "Message for registering a single natural person or legal entity with complete information",
  "type": "object",
  "properties": {
    "participantIdentification": {
      "$ref": "../../objects/business/PartyId.json",
      "description": "Participant identification using existing PartyId structure"
    },
    "operationType": {
      "$ref": "../../objects/business/ExternalCodeList.json",
      "description": "Type of operation to perform",
      "$comment": "Consult External Code List table ExternalOperationTypeCode"
    },
    "person": {
      "$ref": "../../objects/business/Person.json",
      "description": "Basic person information"
    },
    "investor": {
      "$ref": "../../objects/business/Investor.json",
      "description": "Investor specific information"
    },
    "exclusiveFund": {
      "type": "array",
      "items": {
        "$ref": "../../objects/business/ExclusiveFund.json"
      },
      "description": "List of exclusive fund shareholders",
      "minItems": 0,
      "maxItems": 60
    },
    "documents": {
      "type": "array",
      "items": {
        "$ref": "../../objects/business/Documents.json"
      },
      "description": "List of documents",
      "minItems": 0,
      "maxItems": 60
    },
    "patrimonyData": {
      "$ref": "../../objects/business/PatrimonyData.json",
      "description": "Patrimony and income data"
    },
    "relationship": {
      "type": "array",
      "items": {
        "$ref": "../../objects/business/RelationshipType.json"
      },
      "description": "List of relationship types",
      "minItems": 0,
      "maxItems": 60
    },
    "internationalGuarantees": {
      "$ref": "../../objects/business/InternationalGarantee.json",
      "description": "International guarantees information"
    },
    "internationalAccount": {
      "$ref": "../../objects/business/InternationalAccount.json",
      "description": "International account information"
    },
    "address": {
      "type": "array",
      "items": {
        "allOf": [
          {
            "$ref": "../../objects/business/Address.json"
          },
          {
            "properties": {
              "isPrimary": {
                "type": "boolean",
                "description": "Primary address indicator"
              },
              "addressType": {
                "$ref": "../../objects/business/ExternalCodeList.json",
                "description": "Address type",
                "$comment": "Consult External Code List table ExternalAddressTypeCode"
              }
            },
            "required": [
              "isPrimary",
              "addressType"
            ]
          }
        ]
      },
      "description": "List of investor addresses",
      "minItems": 0,
      "maxItems": 60
    },
    "phoneNumber": {
      "type": "array",
      "items": {
        "$ref": "../../objects/business/PhoneNumber.json"
      },
      "description": "List of phone numbers",
      "minItems": 0,
      "maxItems": 60
    },
    "emails": {
      "type": "array",
      "items": {
        "$ref": "../../objects/business/Emails.json"
      },
      "description": "List of email addresses",
      "minItems": 0,
      "maxItems": 60
    },
    "accountData": {
      "$ref": "../../objects/business/AccountData.json",
      "description": "Account detailed information"
    }
  },
  "required": [
    "participantIdentification",
    "operationType",
    "person",
    "investor",
    "accountData",
    "documents",
    "address",
    "emails",
    "phoneNumber"
  ],
  "additionalProperties": false,
  "examples": [
    {
      "participantIdentification": {
        "id": 999,
        "category": 3
      },
      "operationType": 1,
      "person": {
        "personType": 1,
        "residenceStatus": "RESI",
        "documentIdentifier": {
          "documentType": 2,
          "documentNumber": "12345678900"
        },
        "personStatus": 1,
        "reasonCode": 1
      },
      "investor": {
        "fullName": "João Silva Santos",
        "socialName": "Maria Silva Santos",
        "birthDate": "1985-03-15",
        "politicallyExposedPerson": false,
        "relatedPerson": true,
        "usPerson": false,
        "motherName": "Ana Maria Santos",
        "birthPlace": "São Paulo",
        "nationality": "BRA",
        "emancipated": true,
        "countryOfResidence": "BRA",
        "civilStatus": 1,
        "spouseName": "Carlos Oliveira",
        "spouseDocument": {
          "documentType": 2,
          "documentNumber": "12345678900"
        },
        "employerCompanyName": "ABC LTDA",
        "employerCompanyDocument": {
          "documentType": 2,
          "documentNumber": "12345678900000152"
        },
        "educationLevel": 3,
        "occupation": 252105,
        "registrationUpdateDate": "2024-01-15",
        "orderSentByType": 1,
        "registrationInclusionDate": "2024-01-01",
        "exclusiveFund": false
      },
      "exclusiveFund": [
        {
          "personType": 1,
          "residenceStatus": "RESI",
          "documentIdentifier": {
            "documentType": 2,
            "documentNumber": "12345678900"
          },
          "fullName": "João Silva Santos",
          "relatedPerson": false,
          "politicallyExposedPerson": false,
          "usPerson": false,
          "countryOfResidence": "BRA"
        }
      ],
      "documents": [
        {
          "documentIdentifier": {
            "documentType": 2,
            "documentNumber": "12345678900"
          },
          "issueDate": "2018-05-15",
          "issuingAuthority": 2,
          "expirationDate": "2028-05-14",
          "issuingState": 35,
          "country": "BRA"
        }
      ],
      "patrimonyData": {
        "annualIncome": {
          "amount": "150000.00",
          "currency": "BRL",
          "informationDate": "2024-01-15"
        }
      },
      "relationship": [
        {
          "relationshipType": 1,
          "personType": 1,
          "residenceStatus": "RESI",
          "documentIdentifier": {
            "documentType": 2,
            "documentNumber": "12345678900"
          },
          "fullName": "João Silva Santos",
          "socialName": "Maria Silva Santos",
          "politicallyExposedPerson": false,
          "usPerson": false,
          "relatedPerson": true,
          "position": "Diretor",
          "countryOfResidence": "BRA",
          "address": {
            "street": "Rua Brasilândia",
            "number": "123",
            "complement": "Apto 101",
            "neighborhood": "Centro",
            "postalCode": "01234-567",
            "cityName": "São Paulo",
            "state": "SP",
            "country": "BRA",
            "phoneNumber": "+55-11-91234-5678",
            "email": "central@xpto.com.br"
          }
        }
      ],
      "internationalGuarantees": {
        "jurisdictionOfOrigin": "USA",
        "legalForm": 1
      },
      "internationalAccount": {
        "beneficiaryBankDetails": {
          "accountNumber": "DE89370400440532013000",
          "iban": "DE89370400440532013000",
          "swiftCode": "XPTODEFF",
          "bankName": "Banco do XPTO S.A",
          "bankCountry": "BRA"
        },
        "transferCurrency": "USD",
        "intermediaryBankDetails": {
          "accountNumber": "US12345678967890",
          "swiftCode": "CHXPTO33",
          "bankName": "Banco do XPTO S.A"
        }
      },
      "address": [
        {
          "isPrimary": true,
          "addressType": 1,
          "street": "Rua Brasilândia",
          "number": "123",
          "complement": "Apto 101",
          "neighborhood": "Centro",
          "postalCode": "01234-567",
          "cityName": "São Paulo",
          "state": "SP",
          "country": "BRA",
          "phoneNumber": "+55-11-91234-5678",
          "email": "central@xpto.com.br"
        }
      ],
      "phoneNumber": [
        {
          "isPrimary": true,
          "phoneType": 1,
          "phoneNumber": "+55-11-91234-5678"
        }
      ],
      "emails": [
        {
          "isPrimary": true,
          "emailType": 1,
          "email": "usuario@exemplo.com.br"
        }
      ],
      "accountData": {
        "account": {
          "accountType": 1,
          "id": 123456789
        },
        "onBehalfOf": true,
        "lightIntermediaryCode": 123456,
        "profile": 1,
        "registrationDate": "2023-01-15",
        "updateDate": "2024-05-20",
        "advisorDocument": {
          "documentType": 1,
          "documentNumber": "123456789"
        },
        "preferredPhoneType": 1,
        "preferredAddressType": 2,
        "preferredEmailType": 1,
        "status": 1,
        "positionAndCustodianAccount": true,
        "relatedBrand": 1
      }
    }
  ]
}