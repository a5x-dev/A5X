{
  "$schema" : "http://json-schema.org/draft-07/schema#",
  "$id" : "urn:a5x:ex5:schema:v1:risk:ex5-rsk-sim-01",
  "$metadata" : {
    "domain" : "risk",
    "schemaId" : "urn:a5x:ex5:schema:v1:risk:ex5-rsk-sim-01"
  },
  "title" : "Risk Simulation Request",
  "description" : "Message for requesting a risk simulation",
  "type" : "object",
  "properties" : {
    "clearingMemberIdentification" : {
      "$ref" : "../../objects/business/PartyId.json",
      "description" : "Provides details about the clearing member identification"
    },
    "participantIdentification" : {
      "$ref" : "../../objects/business/PartyId.json",
      "description" : "Provides details about the participant identification"
    },
    "accountIdentification" : {
      "$ref" : "../../objects/business/AccountIdentification.json",
      "description" : "Provides details about the account identification"
    },
    "portfolioPositions" : {
      "type" : "boolean",
      "description" : "Indicates if the full portfolio positions should be considered for the simulation"
    },
    "userComentary" : {
      "type" : "string",
      "description" : "Free text field for user comments related to the simulation request"
    },
    "simulationPosition" : {
      "type" : "array",
      "description" : "Array of positions to be included in the simulation",
      "items" : {
        "$ref" : "../../objects/business/SimulationPosition.json",
        "description" : "Position details to be used in simulation"
      }
    }
  },
  "required" : [ "clearingMemberIdentification", "participantIdentification", "accountIdentification", "portfolioPositions" ],
  "additionalProperties" : false,
  "examples" : [ {
    "clearingMemberIdentification" : {
      "id" : 123456,
      "category" : 2
    },
    "participantIdentification" : {
      "id" : 789012,
      "category" : 3
    },
    "accountIdentification" : {
      "id" : 234
    },
    "portfolioPositions" : false,
    "userComentary" : "Result under base scenario; revise foreign exchange exposure",
    "simulationPosition" : [ {
      "tickerSymbol" : "ABCDEFG",
      "settlementCurrency" : "BRL",
      "longPosition" : 5,
      "shortPosition" : 2,
      "longValue" : {
        "currency" : "BRL",
        "amount" : "25000.00"
      },
      "shortValue" : {
        "currency" : "BRL",
        "amount" : "25000.00"
      }
    } ]
  } ]
}