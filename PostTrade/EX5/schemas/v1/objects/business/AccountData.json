{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "urn:a5x:ex5:schema:v1:business:AccountData",
  "$metadata": {
    "domain": "business",
    "schemaId": "urn:a5x:ex5:schema:v1:business:AccountData"
  },
  "title": "Account Data",
  "description": "Complete account information grouping with different contexts",
  "type": "object",
  "properties": {
    "account": {
      "$ref": "../../objects/business/Account.json",
      "description": "Account and type of account"
    },
    "onBehalfOf": {
      "type": "boolean",
      "default": false,
      "description": "On behalf of indicator. Default = false. Required when account is used as origin for 'On Behalf Of' relationship links"
    },
    "lightIntermediaryCode": {
      "type": "integer",
      "minimum": 1,
      "maximum": 999999,
      "description": "Light intermediary code for opened accounts"
    },
    "profile": {
      "$ref": "../../objects/business/ExternalCodeList.json",
      "description": "Define the account profile for PTRM setup",
      "$comment": "Consult External Code List table ExternalPTRMProfile"
    },
    "registrationDate": {
      "$ref": "../../types/ISODate.json",
      "description": "Account registration inclusion date"
    },
    "updateDate": {
      "$ref": "../../types/ISODate.json",
      "description": "Account registration modification date"
    },
    "advisorDocument": {
      "$ref": "../../objects/business/DocumentIdentifier.json",
      "description": "Investment advisor document number"
    },
    "preferredPhoneType": {
      "$ref": "../../objects/business/ExternalCodeList.json",
      "description": "Preferred phone type from investor phone list to use for this account",
      "$comment": "Consult External Code List table ExternalPhoneTypeCode"
    },
    "preferredAddressType": {
      "$ref": "../../objects/business/ExternalCodeList.json",
      "description": "Preferred address type from investor address list to use for this account",
      "$comment": "Consult External Code List table ExternalAddressTypeCode"
    },
    "preferredEmailType": {
      "$ref": "../../objects/business/ExternalCodeList.json",
      "description": "Preferred email type from investor email list to use for this account",
      "$comment": "Consult External Code List table ExternalEmailTypeCode"
    },
    "status": {
      "$ref": "../../objects/business/ExternalCodeList.json",
      "description": "Account status",
      "$comment": "Consult External Code List table ExternalStatusCode"
    },
    "positionAndCustodianAccount": {
      "type": "boolean",
      "description": "Indicator if is the position or custodian account"
    },
    "relatedBrand": {
      "type": "integer",
      "minimum": 1,
      "maximum": 6,
      "description": "Related brand identifier"      
    }
  },
  "required": [
    "account",
    "positionAndCustodianAccount"
  ],
  "additionalProperties": false,
  "examples": [
    {
      "account": {
        "accountType": 1,
        "id": 123456789
      },
      "onBehalfOf": true,
      "lightIntermediaryCode": 123456,
      "profile": 1,
      "registrationDate": "2023-01-15",
      "updateDate": "2024-05-20",
      "advisorDocument": {
        "documentType": 1,
        "documentNumber": "123456789"
      },
      "preferredPhoneType": 1,
      "preferredAddressType": 2,
      "preferredEmailType": 1,
      "status": 1,      
      "positionAndCustodianAccount": true,
      "relatedBrand": 1
    }
  ]
}