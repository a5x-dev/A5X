{
  "$schema" : "https://json-schema.org/draft/2020-12/schema",
  "$id" : "urn:a5x:ex5:schema:v1:positions:ex5f-pos-evt-0201",
  "$metadata" : {
    "domain" : "positions",
    "schemaId" : "urn:a5x:ex5:schema:v1:positions:ex5f-pos-evt-0201"
  },
  "title" : "CorporateActionPositionReport File Schema",
  "description" : "CorporateActionPositionReport File Schema",
  "type" : "object",
  "properties" : {
    "referenceDate" : {
      "type" : "string",
      "format" : "date-time",
      "description" : "Data de referência da informação."
    },
    "tickerSymbol" : {
      "type" : "string",
      "minLength" : 1,
      "maxLength" : 35,
      "description" : "Código que identifica um instrumento"
    },
    "financialInstrumentIdentificationId" : {
      "type" : "string",
      "minLength" : 1,
      "maxLength" : 35,
      "description" : "Identificação proprietária de um instrumento"
    },
    "financialInstrumentIdentificationSource" : {
      "type" : "string",
      "minLength" : 1,
      "maxLength" : 35,
      "description" : "Fonte da identificação do instrumento"
    },
    "financialInstrumentIdentificationExchange" : {
      "type" : "string",
      "minLength" : 3,
      "maxLength" : 20,
      "description" : "Código identificador da Bolsa em que o instrumento foi negociado"
    },
    "underlyingInstrumentIdentificationId" : {
      "type" : "string",
      "minLength" : 1,
      "maxLength" : 35,
      "description" : "Identificador do instrumento subjacente"
    },
    "underlyingInstrumentIdentificationSource" : {
      "type" : "string",
      "minLength" : 1,
      "maxLength" : 35,
      "description" : "Fonte da identificação do instrumento"
    },
    "underlyingInstrumentIdentificationExchange" : {
      "type" : "string",
      "minLength" : 3,
      "maxLength" : 20,
      "description" : "Código identificador da Bolsa em que o instrumento foi negociado"
    },
    "underlyingISIN" : {
      "type" : "string",
      "maxLength" : 12,
      "pattern" : "^BR[A-Z0-9]{4}[A-Z0-9]{3}[A-Z0-9]{2}\\d$",
      "description" : "ISIN do instrumento subjacente"
    },
    "eventStatus" : {
      "type" : "integer",
      "minimum" : 0,
      "maximum" : 999999,
      "description" : "Situação do evento informando",
      "$comment" : "Consultar a lista na tabela ExternalEventStatus"
    },
    "corporateActionIdentification" : {
      "type" : "integer",
      "minimum" : 0,
      "maximum" : 999999,
      "description" : "Identificação do evento",
      "$comment" : "Consultar a lista na tabela ExternalCorporateActionCode"
    },
    "corporateActionType" : {
      "type" : "integer",
      "minimum" : 0,
      "maximum" : 999999,
      "description" : "Classificação do Evento",
      "$comment" : "Consultar a lista na tabela ExternalCorporateActionsTypeCode"
    },
    "voluntaryIndicator" : {
      "type" : "boolean",
      "description" : "Indica se evento será voluntário ou involuntário"
    },
    "recordDate" : {
      "type" : "string",
      "format" : "date-time",
      "description" : "Data Com direito ao evento corporativo"
    },
    "exDate" : {
      "type" : "string",
      "format" : "date-time",
      "description" : "Data Ex direito ao evento corporativo"
    },
    "effectiveDate" : {
      "type" : "string",
      "format" : "date-time",
      "description" : "Data de efetivação do evento corporativo"
    },
    "paymentDate" : {
      "type" : "string",
      "format" : "date-time",
      "description" : "Data de pagamento do evento corporativo"
    },
    "eventCalculationType" : {
      "type" : "integer",
      "minimum" : 0,
      "maximum" : 999999,
      "description" : "Indica o tipo de cálculo aplicado ao evento (fator ou percentual)",
      "$comment" : "Consultar a lista na tabela ExternalEventCalculationType"
    },
    "eventCalculationMethod" : {
      "type" : "integer",
      "minimum" : 0,
      "maximum" : 999999,
      "description" : "Indica o método de cálculo aplicado ao evento",
      "$comment" : "Consultar a lista na tabela ExternalEventCalculationMethodType"
    },
    "eventPrice" : {
      "type" : "string",
      "minLength" : 1,
      "maxLength" : 20,
      "pattern" : "^\\d{1,15}(\\.\\d{1,2})?$",
      "description" : "Valor Financeiro Evento"
    },
    "eventPercentage" : {
      "type" : "string",
      "description" : "Percentual Evento"
    },
    "eventFactor" : {
      "type" : "number",
      "description" : "Fator Evento"
    },
    "externalEventIdentification" : {
      "type" : "string",
      "minLength" : 1,
      "maxLength" : 35,
      "description" : "ID do processo na bolsa correspondente ao evento no ativo underlying"
    },
    "taxIndicator" : {
      "type" : "boolean",
      "description" : "Indica se o evento será tributado."
    },
    "afterApplyingCorporateActionsIsin" : {
      "type" : "string",
      "maxLength" : 12,
      "pattern" : "^BR[A-Z0-9]{4}[A-Z0-9]{3}[A-Z0-9]{2}\\d$",
      "description" : "ISIN após aplicação do evento corporativo"
    },
    "afterApplyingCorporateActionsTickerSymbol" : {
      "type" : "string",
      "minLength" : 1,
      "maxLength" : 35,
      "description" : "Ticker Symbol após aplicação do evento corporativo"
    },
    "afterApplyingCorporateActionsUnderlyingIsin" : {
      "type" : "string",
      "maxLength" : 12,
      "pattern" : "^BR[A-Z0-9]{4}[A-Z0-9]{3}[A-Z0-9]{2}\\d$",
      "description" : "ISIN do ativo subjacente após aplicação do evento corporativo"
    },
    "beforeApplyingCorporateActionsIsin" : {
      "type" : "string",
      "maxLength" : 12,
      "pattern" : "^BR[A-Z0-9]{4}[A-Z0-9]{3}[A-Z0-9]{2}\\d$",
      "description" : "ISIN antes do evento corporativo"
    },
    "beforeApplyingCorporateActionsTickerSymbol" : {
      "type" : "string",
      "minLength" : 1,
      "maxLength" : 35,
      "description" : "Ticker Symbol antes do evento corporativo"
    },
    "beforeApplyingCorporateActionsUnderlyingIsin" : {
      "type" : "string",
      "maxLength" : 12,
      "pattern" : "^BR[A-Z0-9]{4}[A-Z0-9]{3}[A-Z0-9]{2}\\d$",
      "description" : "ISIN do ativo subjacente antes do evento corporativo"
    }
  },
  "required" : [
    "referenceDate",
    "tickerSymbol",
    "financialInstrumentIdentificationId",
    "financialInstrumentIdentificationSource",
    "financialInstrumentIdentificationExchange",
    "underlyingInstrumentIdentificationId",
    "underlyingInstrumentIdentificationSource",
    "underlyingInstrumentIdentificationExchange",
    "eventStatus",
    "corporateActionIdentification",
    "corporateActionType",
    "voluntaryIndicator",
    "recordDate",
    "exDate",
    "effectiveDate",
    "eventCalculationType",
    "eventCalculationMethod",
    "externalEventID",
    "taxIndicator"
  ],
  "additionalProperties" : false
}
