{
  "$schema" : "http://json-schema.org/draft-07/schema#",
  "$id" : "urn:a5x:ex5:schema:v1:allocation:ex5f-alc-dtl-01",
  "$metadata" : {
    "domain" : "allocation",
    "schemaId" : "urn:a5x:ex5:schema:v1:allocation:ex5f-alc-dtl-01"
  },
  "title" : "AllocationDetails",
  "description" : "All allocated trades belonging to the Participant",
  "type" : "object",
  "properties" : {
    "referenceDate" : {
      "type" : "string",
      "format" : "date-time",
      "description" : "Reference date of the information"
    },
    "clearingMemberIdentificationId" : {
      "type" : "integer",
      "minimum" : 1,
      "maximum" : 999999,
      "description" : "Clearing member identifier provided by A5X during the participant registration"
    },
    "clearingMemberIdentificationCategory" : {
      "type" : "integer",
      "minimum" : 1,
      "maximum" : 99,
      "description" : "Clearing member category code",
      "$comment" : "Consult External Code List table ExternalParticipantCategoryCode"
    },
    "participantRequesterIdentificationId" : {
      "type" : "integer",
      "minimum" : 1,
      "maximum" : 999999,
      "description" : "Participant identifier provided by A5X during the participant registration"
    },
    "participantRequesterIdentificationCategory" : {
      "type" : "integer",
      "minimum" : 1,
      "maximum" : 99,
      "description" : "Participant category code",
      "$comment" : "Consult External Code List table ExternalParticipantCategoryCode"
    },
    "financialInstrumentIdentificationId" : {
      "type" : "string",
      "maxLength" : 35,
      "minLength" : 1,
      "description" : "Proprietary identification of an instrument"
    },
    "financialInstrumentIdentificationSource" : {
      "type" : "string",
      "minLength" : 1,
      "maxLength" : 35,
      "description" : "Source of the instrument identification"
    },
    "financialInstrumentIdentificationExchange" : {
      "type" : "string",
      "minLength" : 3,
      "maxLength" : 8,
      "pattern" : "^[A-Z0-9]{4}$",
      "description" : "Identifier code of the exchange where the instrument is listed"
    },
    "segment" : {
      "type" : "integer",
      "minimum" : 1,
      "maximum" : 999999,
      "description" : "Market segment - first level of market classification in post-trading process",
      "$comment" : "Consult External Code List table ExternalSegmentCode"
    },
    "market" : {
      "type" : "integer",
      "minimum" : 0,
      "maximum" : 999999,
      "description" : "Market type - second level of market classification in post-trading process",
      "$comment" : "Consult External Code List table ExternalMarketCode"
    },
    "tickerSymbol" : {
      "type" : "string",
      "maxLength" : 35,
      "minLength" : 1,
      "description" : "Letters that identify stocks traded on stock exchange"
    },
    "optionType" : {
      "type" : "integer",
      "minimum" : 1,
      "maximum" : 999999,
      "description" : "Option type identification. CALL (right to buy underlying asset) or PUTT (right to sell underlying asset)",
      "$comment" : "Consult External Code List table ExternalOptionTypeCode"
    },
    "expirationCode" : {
      "type" : "string",
      "minLength": 1,
      "maxLength": 6,
      "description" : "Expiration code of a Future or an Option"
    },
    "isin" : {
      "type" : "string",
      "pattern" : "^BR[A-Z0-9]{4}[A-Z0-9]{3}[A-Z0-9]{2}\\d$",
      "minLength" : 12,
      "maxLength" : 12,
      "description" : "International Securities Identification Number - Standardized international code for unique identification of financial instruments",
      "$comment" : "Structure BR AAAA BBB CC D where: BR=Brazil country code, AAAA=issuer identification (alphanumeric), BBB=asset type (alphanumeric), CC=species or sequence (alphanumeric), D=check digit (numeric)"
    },
    "currentFactor" : {
      "type" : "number",
      "maxLength" : 35,
      "minLength" : 1,
      "description" : "Trade identification number"
    },
    "tradeDate" : {
      "type" : "string",
      "format" : "date",
      "description" : "Trade date"
    },
    "tradeTransactionType" : {
      "type" : "integer",
      "minimum" : 1,
      "maximum" : 999999,
      "description" : "Trade transaction type code",
      "$comment" : "Consult External Code List table ExternalTradeTransactionTypeCode"
    },
    "tradeSubType" : {
      "type" : "integer",
      "minimum" : 1,
      "maximum" : 999999,
      "description" : "Additional qualification for trade type",
      "$comment" : "Consult External Code List table ExternalTradeSubTypeCode"
    },
    "tradeIdentification" : {
      "type" : "string",
      "maxLength" : 35,
      "minLength" : 1,
      "description" : "Trade identification number"
    },
    "dealPrice" : {
      "type" : "string",
      "maxLength" : 22,
      "minLength" : 1,
      "pattern" : "^\\d{1,15}(\\.\\d{1,6})?$",
      "description" : "Decimal number with up to 6 decimal places"
    },
    "buySellIndicator" : {
      "type" : "integer",
      "minimum" : 1,
      "maximum" : 999999,
      "description" : "Indicates whether the trade is a buy or sell",
      "$comment" : "Consult External Code List table ExternalBuySellIndicatorCode"
    },
    "tradingSessionIdentification" : {
      "type" : "integer",
      "minimum" : 1,
      "maximum" : 999999,
      "description" : "Indicates if trade was executed during regular hours or after market",
      "$comment" : "Consult External Code List table ExternalTradingSessionIdCode"
    },
    "tradeRegistrationOrigin" : {
      "type" : "string",
      "maxLength" : 50,
      "minLength" : 1,
      "description" : "Origin session code for the trade"
    },
    "orderIdentification" : {
      "type" : "string",
      "maxLength" : 26,
      "minLength" : 1,
      "description" : "Order identification number"
    },
    "tradeMatchIdentification" : {
      "type" : "string",
      "maxLength" : 10,
      "minLength" : 1,
      "description" : "Trade match identification"
    },
    "traderIdentification" : {
      "type" : "string",
      "maxLength" : 50,
      "minLength" : 1,
      "description" : "Trader code information",
      "examples" : [ "TRADER001", "OP123", "JOHN.SMITH", "OPERATOR-456" ]
    },
    "participantIdentificationId" : {
      "type" : "integer",
      "maxLength" : 999999,
      "minLength" : 1,
      "description" : "Id of Participant"
    },
    "participantIdentificationCategory" : {
     "type" : "integer",  
      "minimum" : 1,
      "maximum" : 99,
      "description" : "Participant category code",
      "$comment" : "Only categories (Intermediário Full), (Participante de Liquidação), and (Intermediário Light) are allowed to include an account. Consult External Code List table ExternalParticipantCategoryCode."
    },
    "accountIdentification" : {
      "type" : "integer",
      "minimum" : 1,
      "maximum" : 999999999999999,
      "description" : "Account identifier defined by the participant"
    },
    "securityAccountType" : {
      "type" : "string",
      "maxLength" : 35,
      "minLength" : 1,
      "description" : "Trade identification number"
    },
    "allocationStatus" : {
      "type" : "integer",
      "minimum" : 1,
      "maximum" : 999999,
      "description" : "Status information for the allocation including processing codes",
      "$comment" : "Consult table ExternalAllocationInstructionStatus. Contains status codes and optional rule identification for rejected allocations"
    },
    "quantity" : {
      "type" : "string",
      "maxLength" : 20,
      "minLength" : 1,
      "pattern" : "^\\d{1,15}(\\.\\d{1,2})?$",
      "description" : "Trade quantity"
    },
    "allocationIdentification" : {
      "type" : "string",
      "maxLength" : 35,
      "minLength" : 1,
      "description" : "Allocation identification number"
    },
    "allocationDateTime" : {
      "type" : "string",
      "format" : "date-time",
      "description" : "Specifies the Allocantion Date Time"
    },
    "participantOriginIdentificationId" : {
      "type" : "integer",
      "minimum" : 1,
      "maximum" : 999999,
      "description" : "GiveUp Participant Identification"
    },
     "participantOriginIdentificationCategory" : {
      "type" : "integer",
      "minimum" : 1,
      "maximum" : 99,
      "description" : "Participant category code",
      "$comment" : "Only categories (Intermediário Full), (Participante de Liquidação), and (Intermediário Light) are allowed to include an account. Consult External Code List table ExternalParticipantCategoryCode."
    },
    "giveUpDateTime" : {
      "type" : "string",
      "format" : "date-time", 
      "description" : "Indicates the give-up date and time"
    },
    "breakingruleIndicator" : {
      "type" : "boolean",
      "description" : "Indicates if the operation was requested outside the time limit",
      "$comment" : "When true, indicates a rule break that requires justification"
    },
    "settlementDate" : {
      "type" : "string",
      "format" : "date-time", 
      "description" : "Specifies the settlement date"
    },
    "compressionGroupIndicator" : {
      "type" : "boolean",
      "description" : "Indicates if the operation is derived from block capture",
      "$comment" : "When true, the allocation was created as part of a block trade that was split into multiple allocations. This affects how the allocation is processed and reported."
    },
    "averagePriceGroupIndicator" : {
      "type" : "boolean",
      "description" : "Indicates if the allocation is part of an average price allocation group"
    },
    "averageExecutionTime" : {
      "type" : "string",
      "description" : "Average execution time of the average price allocation group"
    }
  },
  "required" : [ "referenceDate", "clearingMemberIdentificationId", "clearingMemberIdentificationCategory", "participantRequesterIdentificationId","participantRequesterIdentificationCategory","financialInstrumentIdentificationId", "financialInstrumentIdentificationSource","financialInstrumentIdentificationExchange", "segment", "market", "tickerSymbol", "tradeDate", "tradeIdentification", "dealPrice", "buySellIndicator", "participantIdentificationId", "participantIdentificationCategory", "accountIdentification", "SecurityAccountType", "quantity", "allocationIdentification", "allocationDateTime" ],
  "additionalProperties" : false,
  "examples" : [ ]
}